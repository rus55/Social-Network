"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[58],{3058:function(s,e,t){t.r(e),t.d(e,{default:function(){return V}});var n=t(8683),i=t(5671),o=t(3144),r=t(136),a=t(5716),l=t(2791),u=t(885),c="ProfileInfo_descriptionBlock__6YMmd",d="ProfileInfo_input__kn+o9",p="ProfileInfo_mainPhoto__gkgG6",h="ProfileInfo_contact__Iv7tn",f=t(4374),x=t(7850),j=t(4136),m=t(184),v=function(s){var e=(0,l.useState)(!1),t=(0,u.Z)(e,2),n=t[0],i=t[1],o=(0,l.useState)(s.status),r=(0,u.Z)(o,2),a=r[0],c=r[1];(0,l.useEffect)((function(){c(s.status)}),[s.status]);return(0,m.jsxs)("div",{children:[!n&&(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Status: "}),"  ",(0,m.jsx)("span",{onDoubleClick:function(){i(!0)},children:s.status||"_______"})]}),n&&(0,m.jsx)("div",{children:(0,m.jsx)("input",{value:a,onChange:function(s){c(s.currentTarget.value)},onBlur:function(){i(!1),s.updateStatus(a)},autoFocus:!0})})]})},g=t(1117),b=t(704),P=t(9234),k=(0,b.Z)({form:"edit-profile"})((function(s){var e=s.handleSubmit,t=s.profile,n=s.error;return(0,m.jsxs)("form",{onSubmit:e,children:[(0,m.jsx)("div",{children:(0,m.jsx)("button",{children:"save"})}),n&&(0,m.jsx)("div",{className:P.Z.formSummaryError,children:n}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Full name"}),": ",(0,g.Gr)("Full name","fullName",[],g.II)]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Looking for a job"}),": ",(0,g.Gr)("","lookingForAJob",[],g.II,{type:"checkbox"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"My professional skills"}),":",(0,g.Gr)("My professional skills","lookingForAJobDescription",[],g.gx)]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"About me"}),":",(0,g.Gr)("About me","aboutMe",[],g.gx)]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Contacts"}),": ",t.contacts&&Object.keys(t.contacts).map((function(s){return(0,m.jsx)("div",{className:h,children:(0,m.jsxs)("b",{children:[s,":",(0,g.Gr)("","lookingForAJob",[],g.II)]})},s)}))]})]})})),_=function(s){var e=s.profile,t=s.isOwner,n=s.goToEditMode;return(0,m.jsxs)("div",{children:[t&&(0,m.jsx)("div",{children:(0,m.jsx)("button",{onClick:n,children:"edit"})}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Full name:"})," ",e.fullName]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Looking for a job:"})," ",e.lookingForAJob?"yes":"no"]}),e.lookingForAJob&&(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"My professional skills:"})," ",e.lookingForAJobDescription]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"About me"}),": ",e.aboutMe]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Contacts"}),": ",e.contacts&&Object.keys(e.contacts).map((function(s){return(0,m.jsx)(S,{contactTitle:s,contactValue:e.contacts},s)}))]})]})},S=function(s){var e=s.contactTitle,t=s.contactValue;return(0,m.jsxs)("div",{className:h,children:[(0,m.jsx)("b",{children:e}),": ",t?t[e]:""]})},w=function(s){var e,t,n=(0,l.useState)(!1),i=(0,u.Z)(n,2),o=i[0],r=i[1];if(!s.profile)return(0,m.jsx)(f.Z,{});return(0,m.jsx)("div",{children:(0,m.jsxs)("div",{className:c,children:[(0,m.jsx)("img",{src:(null===s||void 0===s||null===(e=s.profile)||void 0===e||null===(t=e.photos)||void 0===t?void 0:t.large)||x,className:p}),s.isOwner&&(0,m.jsx)("input",{className:d,type:"file",onChange:function(e){var t;null!==(t=e.target.files)&&void 0!==t&&t.length&&s.savePhoto(e.target.files[0])}}),o?(0,m.jsx)(k,{initialValue:s.profile,profile:s.profile,onSubmit:function(s){(0,j.Ii)(s).then((function(){r(!1)}))}}):(0,m.jsx)(_,{goToEditMode:function(){r(!0)},profile:s.profile,isOwner:s.isOwner}),(0,m.jsx)(v,{status:s.status,updateStatus:s.updateStatus})]})})},y="MyPosts_postsBlock__-FCiA",I="MyPosts_posts__mf7ww",A="Post_item__B3HEP",C=function(s){return(0,m.jsxs)("div",{className:A,children:[(0,m.jsx)("img",{src:"https://w7.pngwing.com/pngs/187/576/png-transparent-account-avatar-profile-user-avatars-icon.png",alt:"photo"}),s.message,(0,m.jsxs)("div",{children:[(0,m.jsx)("span",{children:"like"})," ",s.likesCount]})]})},N=t(6139),Z=t(3079),F=(0,Z.D)(10),M=l.memo((function(s){return(0,m.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,m.jsx)("div",{children:(0,m.jsx)(N.Z,{type:"text",name:"newPostText",component:g.gx,placeholder:"Post message",validate:[Z.C,F]})}),(0,m.jsx)("div",{children:(0,m.jsx)("button",{children:"Add post"})})]})})),O=(0,b.Z)({form:"ProfileAddNewPostForm"})(M),T=function(s){var e=s.posts.map((function(s){return(0,m.jsx)(C,{message:s.message,likesCount:s.likesCount},s.id)}));return(0,m.jsxs)("div",{className:y,children:[(0,m.jsx)("h3",{children:"My posts"}),(0,m.jsx)(O,{onSubmit:function(e){s.addPost(e.newPostText)}}),(0,m.jsx)("div",{className:I,children:e})]})},J=t(364),D=(0,J.$j)((function(s){return{posts:s.profilePage.posts,newPostText:s.profilePage.newPostText}}),(function(s){return{addPost:function(e){return s((0,j.Wl)(e))}}}))(T),E=function(s){return(0,m.jsxs)("div",{children:[(0,m.jsx)(w,{savePhoto:s.savePhoto,isOwner:s.isOwner,profile:s.profile,status:s.status,updateStatus:s.updateStatus,saveProfile:s.saveProfile}),(0,m.jsx)(D,{})]})},G=t(9271),U=t(7781),B=function(s){(0,r.Z)(t,s);var e=(0,a.Z)(t);function t(){var s;(0,i.Z)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(s=e.call.apply(e,[this].concat(o))).refreshProfile=function(){var e=s.props.match.params.userId?+s.props.match.params.userId:27595;e||(e=s.props.authorizedUserId)||s.props.history.push("/login"),s.props.getUserProfile(String(e)),s.props.getStatus(String(e))},s}return(0,o.Z)(t,[{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,e,t){this.props.match.params.userId!=s.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,m.jsx)(E,(0,n.Z)((0,n.Z)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),t}(l.Component),V=(0,U.qC)(G.EN,(0,J.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.id,isAuth:s.auth.isAuth}}),{getUserProfile:j.et,getStatus:j.lR,updateStatus:j.Nf,savePhoto:j.Ju,saveProfile:j.Ii}))(B)}}]);
//# sourceMappingURL=58.e6358016.chunk.js.map